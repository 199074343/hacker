# GDTech第八届骇客大赛 - 快速启动指南

## 📋 项目概述

本项目是 GDTech第八届骇客大赛的官方网站，采用**前后端分离架构**：

- **前端**：HTML + JavaScript + Bootstrap（玻璃态UI）
- **后端**：Spring Boot 3.2 + Java 17
- **数据存储**：飞书多维表格（Feishu Bitable）

## 🚀 快速开始（5步启动）

### 第1步：配置飞书开放平台

#### 1.1 创建应用

1. 访问 [飞书开放平台](https://open.feishu.cn/)
2. 点击「创建企业自建应用」
3. 填写应用名称：`GDTech骇客大赛`
4. 记录下：
   - **App ID**: `cli_xxxxxxxxxxxx`
   - **App Secret**: `xxxxxxxxxxxx`

#### 1.2 开通权限

在「权限管理」中开通以下权限：

- ✅ `bitable:app` - 获取多维表格元数据
- ✅ `bitable:app:readonly` - 查看多维表格
- ✅ `bitable:app:write` - 编辑多维表格

#### 1.3 发布应用

点击「版本管理与发布」→「创建版本」→「申请发布」

---

### 第2步：创建飞书多维表格

#### 2.1 创建多维表格

在飞书中创建一个新的「多维表格」，命名为：**GDTech骇客大赛数据**

#### 2.2 创建4个数据表

**表1：参赛作品表（projects）**

| 字段名 | 字段类型 | 示例 |
|--------|----------|------|
| 项目ID | 数字 | 1 |
| 项目名称 | 文本 | AI智能学习助手 |
| 一句话描述 | 文本 | 基于大语言模型的个性化学习辅导平台 |
| 项目网址 | 网址 | https://ai-tutor.example.com |
| 项目配图URL | 网址 | https://xxx.com/img.png |
| 队伍名称 | 文本 | 智慧教育团队 |
| 队伍编号 | 文本 | 001 |
| 团队介绍页URL | 网址 | https://team.example.com |
| 百度统计SiteID | 文本 | 12345678 |
| 累计UV | 数字 | 0 |
| 是否启用 | 复选框 | ☑️ |

**表2：投资人表（investors）**

| 字段名 | 字段类型 | 示例 |
|--------|----------|------|
| 投资人ID | 数字 | 1 |
| 账号 | 文本 | 1001 |
| 初始密码 | 文本 | 123abc |
| 姓名 | 文本 | 张投资 |
| 职务 | 文本 | 高级投资经理 |
| 头像URL | 网址 | https://xxx.com/avatar.png |
| 初始额度 | 数字 | 100 |
| 是否启用 | 复选框 | ☑️ |

**表3：投资记录表（investments）**

| 字段名 | 字段类型 |
|--------|----------|
| 记录ID | 自动编号 |
| 投资人账号 | 文本 |
| 项目ID | 数字 |
| 投资金额 | 数字 |
| 投资时间 | 日期时间 |
| 投资人姓名 | 文本 |
| 项目名称 | 文本 |

**表4：系统配置表（config）**

| 字段名 | 字段类型 | 示例 |
|--------|----------|------|
| 配置项 | 文本 | current_stage |
| 配置值 | 文本 | investment |
| 说明 | 文本 | 当前比赛阶段 |

添加一行配置：
- 配置项：`current_stage`
- 配置值：`investment`（可选：selection/lock/investment/ended）
- 说明：当前比赛阶段

#### 2.3 获取表格ID

1. 打开多维表格，复制浏览器地址栏URL
2. 提取 **App Token**：`https://xxx.feishu.cn/base/[这部分]?table=xxx`
3. 点击每个表，提取 **Table ID**：`?table=[这部分]`

记录下：
```
App Token: bascnxxxxxxxxxx
Table ID (projects): tblxxxxxxxxxx
Table ID (investors): tblxxxxxxxxxx
Table ID (investments): tblxxxxxxxxxx
Table ID (config): tblxxxxxxxxxx
```

#### 2.4 添加测试数据

在「参赛作品表」添加2-3个测试项目
在「投资人表」添加1-2个测试投资人账号

---

### 第3步：配置后端

#### 3.1 安装依赖

确保已安装：
- **Java 17+**：`java -version`
- **Maven 3.6+**：`mvn -version`

#### 3.2 配置文件

编辑 `backend/src/main/resources/application-dev.yml`：

```yaml
feishu:
  app-id: cli_xxxxxxxxxx          # 替换为你的App ID
  app-secret: xxxxxxxxxxxx        # 替换为你的App Secret
  base:
    app-token: bascnxxxxxxxxxx    # 替换为多维表格App Token
    tables:
      projects: tblxxxxxxxxxx     # 替换为项目表Table ID
      investors: tblxxxxxxxxxx    # 替换为投资人表Table ID
      investments: tblxxxxxxxxxx  # 替换为投资记录表Table ID
      config: tblxxxxxxxxxx       # 替换为配置表Table ID
```

---

### 第4步：启动后端服务

```bash
cd backend

# 编译并运行
mvn spring-boot:run -Dspring-boot.run.profiles=dev
```

看到以下输出表示启动成功：

```
Started HackathonApplication in X.XXX seconds
```

测试接口：
```bash
curl http://localhost:8080/api/hackathon/health
```

应该返回：
```json
{
  "code": 200,
  "message": "success",
  "data": "GDTech Hackathon API is running"
}
```

---

### 第5步：启动前端

在**新的终端窗口**中：

```bash
# 返回项目根目录
cd ..

# 启动前端服务器
python -m http.server 8000
```

打开浏览器访问：`http://localhost:8000`

---

## 🎯 功能测试

### 测试1：查看项目列表

1. 打开首页 `http://localhost:8000`
2. 应该能看到飞书表格中的项目
3. 项目按排名显示

### 测试2：投资人登录

1. 点击右上角「投资人登录」
2. 输入飞书表格中配置的账号密码（如：1001 / 123abc）
3. 登录成功后显示投资人信息

### 测试3：执行投资

1. 登录后，点击晋级项目的「投资」按钮
2. 输入投资金额
3. 提交后刷新页面，应该能看到投资记录

### 测试4：查看投资记录

1. 登录后点击右上角投资人名称
2. 查看投资历史和剩余额度

---

## 📁 项目结构

```
hacker/
├── backend/                    # 后端Spring Boot项目
│   ├── src/main/java/
│   ├── pom.xml
│   ├── application.yml
│   └── README.md
├── index.html                  # 前端主页面
├── script-api.js              # API版本（调用后端）
├── script.js                  # 静态版本（已废弃）
├── styles-new.css             # 样式文件
├── CLAUDE.md                  # AI辅助开发文档
└── 快速启动指南.md            # 本文件
```

---

## 🔧 常见问题

### Q1: 后端启动失败

**检查项：**
- Java版本是否17+
- Maven依赖是否下载完成
- 飞书配置是否正确

### Q2: 无法获取飞书数据

**检查项：**
- App ID和App Secret是否正确
- 应用权限是否已开通
- App Token和Table ID是否正确
- 应用是否已发布

### Q3: 前端无法调用后端

**检查项：**
- 后端是否启动（端口8080）
- 浏览器F12查看Network是否有CORS错误
- `script-api.js` 第2行API地址是否正确

### Q4: 投资失败

**检查项：**
- 当前阶段是否为投资期（配置表中current_stage=investment）
- 项目是否晋级（前15名）
- 剩余额度是否足够

---

## 📚 更多文档

- **后端详细文档**：`backend/README.md`
- **AI开发指南**：`CLAUDE.md`
- **需求文档**：见项目Wiki

---

## 🆘 获取帮助

遇到问题请：

1. 查看 `backend/README.md` 故障排查章节
2. 检查后端日志：`backend/logs/spring.log`
3. 联系 GDTech 开发团队

---

## 🎉 开始开发

现在你已经完成了基础搭建！接下来可以：

1. ✅ 在飞书表格中添加真实的参赛项目数据
2. ✅ 配置百度统计（参考backend/README.md）
3. ✅ 自定义UI样式
4. ✅ 部署到生产环境

祝开发顺利！🚀
